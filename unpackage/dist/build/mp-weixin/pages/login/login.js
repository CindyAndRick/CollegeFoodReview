(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"0739":function(e,n,t){},3233:function(e,n,t){"use strict";var a;t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a}));var o=function(){var e=this,n=e.$createElement;e._self._c},i=[]},"49da":function(e,n,t){"use strict";t.r(n);var a=t("f268"),o=t.n(a);for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a},"8fb8":function(e,n,t){"use strict";var a=t("0739"),o=t.n(a);o.a},a71e:function(e,n,t){"use strict";t.r(n);var a=t("3233"),o=t("49da");for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("8fb8");var c,u=t("f0c5"),r=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],c);n["default"]=r.exports},bef6:function(e,n,t){"use strict";(function(e){t("4a2a");a(t("66fd"));var n=a(t("a71e"));function a(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},f268:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{nickname:"",result:""}},methods:{login:function(){var n=this;console.log("login"),e.getUserProfile({desc:"Weixin",success:function(t){console.log("用户信息："+JSON.stringify(t.userInfo));t.userInfo;e.login({provider:"weixin",success:function(a){e.showLoading({title:"登陆中"});var o=a.code;console.log("获取code成功："+JSON.stringify(a)),e.request({url:"http://124.71.170.100/index.php/index/getopenid",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{code:o},success:function(a){console.log("获取openid成功："),n.result=a,console.log(a.data.data.id),e.hideLoading(),e.request({url:"http://124.71.170.100/index.php/index/login",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{openid:a.data.data.id,nickName:t.userInfo.nickName,avatarUrl:t.userInfo.avatarUrl},success:function(n){console.log("获取用户信息成功"),console.log(n),"4"==n.data.data.identity?e.setStorage({key:"userInfo",data:n.data.data,success:function(){e.reLaunch({url:"./register?openid="+a.data.data.id})}}):"0"==n.data.data.status?e.reLaunch({url:"../home/appeal?id="+n.data.data.id}):e.setStorage({key:"userInfo",data:n.data.data,success:function(){e.reLaunch({url:"../index/index"})}})},fail:function(){console.log("获取用户信息失败")}})},fail:function(){e.showToast({title:"登录失败",icon:"none"})}})}})},fail:function(){console.log("failed")}})}}};n.default=t}).call(this,t("543d")["default"])}},[["bef6","common/runtime","common/vendor"]]]);